language: cpp

compiler:
  - clang
  - gcc

os:
  - linux
  - osx

git:
  depth: 1

before_install:
  - if [ $TRAVIS_OS_NAME == osx ]; then brew update && brew install sdl2 sdl2_image sdl2_ttf allegro freetype; fi
  - if [ $TRAVIS_OS_NAME == linux ]; then sudo apt-get -qq update && sudo apt-get install -y libsdl2-dev  libsdl2-image-dev libsdl2-ttf-dev liballegro5-dev libfreetype6-dev; fi

before_script:
  - cmake -DENABLE_SDL_CONTRIB=ON -DENABLE_OPENGL_CONTRIB=ON .

script:
  - make
  - sudo make install

notifications:
  irc: "irc.freenode.org#fife"
  email: false
